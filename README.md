# midrash
### dogma
```
ミドラーシュ指針
１．目的は最も最初に提示。確率も提示する。
２．世界は広く斑。魔物も話す。すべての職種の生活を示す。
３．拠点は一つ。施設は五つ。宿、商店、寺院、訓練所、宮殿。
４．他都市は四つまで。施設は三つ。広場的。特殊的。宮殿的。
５．迷宮は七まで。計二十層程度。平均三、最大五。地下、草迷宮、水中。
６．必ず浮遊島があり、クリア後の特典とする。前提迷宮、転生宮。
７．三部を一つの作品とする。提示部、発展部、英雄部。
８．三、四、七、十三、二十を魔法数とする。
```
### stats
```
let st={}
st.set=(k,v)=>{
 if(!k||k==='set'||k==='get')return;
 return st[k]=v,st
}
```
```
st.set('LV',1)
st.set('HP',8)
st.set('STR',10)
st.set('INT',10)
st.set('PRI',10)
st.set('VIT',10)
st.set('AGI',10)
st.set('LUC',10)
st.set('JOB','THI')
```

```
let fn={},is={}
fn.getenemy=(n)=>{}
fn.getplayer=(n)=>{}
fn.rand=(min,max)=>{}
is.magicuser=(st)=>{}
is.highmaster=(st)=>{}
```

```
/*
＊生命力について。
生命力は体力＊１０のみ。ハイマスターになると、生命力はレベルが上がる毎に際限なくあがる。
パワーユーザは体力の半分を最大値、マジックユーザは体力の三分の一を最大値として上昇する。
*/
//if level up
let st=fn.getplayer(0)
let rate=is.magicuser(st)?2:3
let maxup=st.VIT/rate
let newHP=st.HP+fn.rand(0,maxup)
newHP=is.highmaster(st)?newHP:Math.min(st.VIT*10,newHP)
return st.set('VIT',newHP)//
```

memo
```
＊重要な制約について。
　極力レベルに依存しない。全ての職は１３までにほとんどを覚える。ハイマスターは討伐数が３００か、レベル２０。

＊生命力について。
　生命力は体力＊１０のみ。ハイマスターになると、生命力はレベルが上がる毎に際限なくあがる。パワーユーザは体力の半分を最大値、マジックユーザは体力の三分の一を最大値として上昇する。


＊所持枠について。
　鞄は共通。初期二十。最大六十。最初から六十まで所持出来るが、容量超過の罰則がある。罰則はひとつ、アーマクラスが九になる。～鞄で所持枠を増やす事が出来る。
　装備は所持量にカウントしない。

＊司祭の鑑定率について。
　アイテムの星の数によって鑑定確率は変動する。
　鑑定確率、５０＋レベル＊５－星＊１０％
　失敗の成功、触り回避確率は、８０％＋レベルか知恵か幸運の最大値。

＊金策について。
　魔物一体につき銀貨１０しか貰えない。全ての魔物固定。冒険者は部位を売るからである。錬金すると、錬金の値によって売り値があがる。これを利用して、適当に錬金し、売るだけでもそれなりの金策が出来る。
　アイテムの基礎値＊（１００％＋錬金数値＊５）

　錬金の仕組み。
　迷宮から産出される錬金石は四つある。アマルガム、カーリアン、ウーツ、マリント。
```
